<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org">
<head th:replace="/fragments/head :: head"></head>
<script type="text/javascript">
	function onDelete(id) {
		// change current HTTP method on DELETE
		//document.getElementById("_method").value = "delete";
		let form = document.getElementById("acls");
		// actualize form action
		form.action = form.action + "/" + id;
		form.submit();
	}
</script>
<body>
	<div th:replace="/fragments/navbar :: navbar">&nbsp;</div>
	<div class="container mt-3">
		<div class="card w-75">
			<h5 class="card-header" style="color: grey" th:inline="text"><i
                    class="fa-solid fa-file-shield"></i>&nbsp;[[#{title.acls}]]</h5>
			<div class="card-body">
				<div class="form-group row">
					<div class="col-sm-12">
						<div style="overflow: auto; height: 320px">
						<form id="acls" method="post" th:action="@{/acls}" th:object="${acl}">
							<input type="hidden" id="_method" name="_method" form="acls" th:value="delete" />
							<table class="table table-sm table-striped">
								<thead>
									<tr>
										<!-- -->
										<th scope="col">-ID-</th>
										<th scope="col">-STATE-</th>
										<th scope="col" th:text="#{label.name}">NAME</th>
										<th scope="col" th:text="#{label.description}">DESCRIPTION</th>
										<th scope="col"></th>
									</tr>
								</thead>
								<tbody>
									<tr th:if="${acls.empty}">
										<td colspan="3"><p th:text="#{list.empty}">EMPTY</p></td>
									</tr>
									<tr th:each="acl : ${acls}">
										<!-- -->
										<td th:text="${acl.id}">ACL.ID</td>
										<td th:text="${acl.state}">ACL.STATE</td>
										<td th:text="${acl.name}">ACL.NAME</td>
										<td th:text="${acl.description}">ACL.DESCRIPTION</td>
										<td width="1%">
											<div class="d-flex">
												<span sec:authorize="hasRole('ROLE_VIEWER')">
													<a class="btn btn-outline-secondary btn-sm mr-2" type="button"
														th:title="#{tooltip.details}"
														th:href="@{/acls/{id}(id=${acl.id})}"> <nobr>
															<i class="fas fa-eye"></i>&nbsp;<span
																th:text="#{button.view}"></span>
														</nobr></a>
												</span>
												<th:block sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_EDITOR')">
													<span><a class="btn btn-outline-secondary btn-sm mr-2"
														type="button" th:title="#{tooltip.edit}"
														th:href="@{/acls/{id}/edit(id=${acl.id})}"> <nobr>
																<i class="fas fa-edit"></i>&nbsp;<span
																	th:text="#{button.edit}"></span>
															</nobr></a></span>
													<span>
														<a class="btn btn-outline-secondary btn-sm mr-2" type="button"
															th:onclick="@{onDelete('{id}')(id=${acl.id})}">
															<nobr th:inline="text">
																<i th:title="#{tooltip.delete}" class="fa-solid fa-trash-can"></i>&nbsp;[[#{button.delete}]]
															</nobr></a>
													</span>
												</th:block>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
							</form>
						</div>
					</div>
				</div>
				<div class="form-group row" sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_EDITOR')">
					<div class="col-sm-12">
						<button class="btn btn-secondary btn-sm" type="button"
							th:title="#{tooltip.newacl}" onClick="location.href='/acls/new'">
							<nobr>
								<span class="fas fa-plus"></span>&nbsp;<span
									th:text="#{button.add}"></span>
							</nobr>
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
